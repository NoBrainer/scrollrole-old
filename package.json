{
  "name": "scroll-role",
  "version": "0.0.0",
  "private": true,
  "//": [
    "parallelshell needs to stay at 3.0.1, because 3.0.2 is bugged",
    "use git bash for npm scripts: npm config set script-shell \"C:\\Program Files\\Git\\bin\\bash.exe\"",
    "unset git bash for npm scripts: npm config delete script-shell",
    "TODO: modify kill:server to use port from config",
    "Note: acorn is installed to prevent some error when running npm install"
  ],
  "devDependencies": {
    "browserify": "16.2.3",
    "browserify-compile-templates": "0.3.0",
    "copyfiles": "2.1.0",
    "fkill": "5.3.0",
    "less": "3.9.0",
    "mkdirp": "0.5.1",
    "nodemon": "1.18.9",
    "parallelshell": "3.0.1",
    "ps-node": "0.1.6",
    "rimraf": "2.6.2",
    "svgstore-cli": "1.3.1",
    "terser": "3.14.1",
    "uglifycss": "0.0.29",
    "watch": "1.0.2"
  },
  "scripts": {
    "watch": "npm run copy:files -s && npm run watch:all -s",
    "server": "npm run kill:server -s && nodemon -q ./bin/www",
    "build": "npm run copy:files -s && npm run build:css -s && npm run build:js -s && npm run build:svg -s",
    "--- BUILD SCRIPTS---------------------------------------------------------": "",
    "prebuild": "node scripts/message 'Installing libraries...' && npm install -s && rimraf build",
    "precopy:files": "node scripts/message 'Copying static files...' && mkdirp build/public/fonts && mkdirp build/public/resources/config",
    "copy:files": "copyfiles -f node_modules/font-awesome/fonts/* build/public/fonts/ && copyfiles -f public/*.html build/public/ && copyfiles -f -e public/resources/icons/** public/resources/** build/public/resources/ && copyfiles -f public/resources/config/* build/public/resources/config/",
    "postcopy:files": "node scripts/message 'Static files done!'",
    "prebuild:css": "node scripts/message 'Building CSS...' && mkdirp build/public/css",
    "build:css": "lessc public/css/main.less > build/public/css/style.css",
    "postbuild:css": "uglifycss build/public/css/style.css > build/public/css/style.min.css && node scripts/message 'CSS done!'",
    "prebuild:js": "node scripts/message 'Building JS...' && mkdirp build/public/js",
    "build:js": "browserify -t browserify-compile-templates --extension=.html public/js/main.js > build/public/js/bundle.js",
    "postbuild:js": "terser build/public/js/bundle.js -o build/public/js/bundle.min.js && node scripts/message 'JS done!'",
    "prebuild:svg": "node scripts/message 'Building SVG...' && mkdirp build/public/resources",
    "build:svg": "svgstore --inline -o build/public/resources/icons.svg public/resources/icons/**/*.svg",
    "postbuild:svg": "node scripts/message 'SVG done!'",
    "--- WATCH SCRIPTS---------------------------------------------------------": "",
    "watch:all": "parallelshell \"npm run watch:css -s\" \"npm run watch:js -s\" \"npm run watch:server -s\" \"npm run watch:svg -s\"",
    "watch:css": "watch \"npm run build:css -s\" public/css",
    "watch:js": "watch \"npm run build:js -s\" public/js",
    "watch:server": "npm run kill:server -s && nodemon -q --watch api --watch app.js ./bin/www",
    "watch:svg": "watch \"npm run build:svg -s\" public/resources/icons",
    "--- MISCELLANEOUS SCRIPTS-------------------------------------------------": "",
    "install:config": "copyfiles -f scrollRoleConfig.js ../",
    "kill:all": "node scripts/killAll",
    "kill:server": "node scripts/killServer"
  },
  "dependencies": {
    "acorn": "6.0.4",
    "backbone": "1.3.3",
    "body-parser": "1.18.3",
    "cookie-parser": "1.4.3",
    "debug": "4.1.0",
    "express": "4.16.4",
    "font-awesome": "4.7.0",
    "jade": "1.11.0",
    "jquery": "3.3.1",
    "js-yaml": "3.12.0",
    "morgan": "1.9.1",
    "serve-favicon": "2.5.0",
    "underscore": "1.9.1"
  }
}
